#!/usr/bin/env node
const render = require('../index')

const cli = require('meow')(`
  Usage:
    $ family-tree

  Options:
    -h, --help       show usage information
    -v, --version    print version info and exit
`, {
  boolean: ['help', 'version'],
  alias: {
    h: 'help', v: 'version'
  }
})

require('read-input')(cli.input)
.then(res => {
  res.files.forEach(file => {
    var input = require('js-yaml').safeLoad(file.data)
    console.log(render(input))
  })
})
.catch(err => {
  console.error(err)
  process.exit(8)
})
